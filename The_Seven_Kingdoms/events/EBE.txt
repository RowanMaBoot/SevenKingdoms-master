namespace = EBE

#Mudd gets strong
character_event = {
	id = EBE.1
	desc = EVTDESCEBF1
	
	min_age = 8
	
	trigger = {
		any_owned_bloodline = {
			has_bloodline_flag = bloodline_strong
		}
		NOR = {
			trait = strong
			has_character_flag = flag_secret_bastard
		}
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = EVTOPTAEBF1 #get strong
		prestige = 15
		add_trait = strong		
	}
}

#Dayne upgrades combat skill
character_event = {
	id = EBE.2
	desc = EVTDESCEBF2
	
	min_age = 16
	max_age = 18
		
	trigger = {
		any_owned_bloodline = {
			has_bloodline_flag = bloodline_combat_skill
		}
		is_female = no
		NOR = {
			trait = dueling_legend
			has_character_flag = flag_secret_bastard
		}
	}
	mean_time_to_happen = {
		months = 12
	}
	
	option = {
		name = EVTOPTAEBF2 #upgrades combat skill
		prestige = 15
		train_combat_skill = yes		
	}
}

#Purchase Valyrian Steel
character_event = {
	id = EBE.3
	desc = EVTDESCEBF3
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_EBE_3
		trigger = {
			NOT = { has_global_flag = anger_exists }
		}
		add_artifact = anger
		set_global_flag = anger_exists
	}
	option = {
		name = EVTOPTB_EBE_3
		trigger = {
			NOT = { has_global_flag = black_death_exists }
		}
		add_artifact = black_death
		set_global_flag = black_death_exists
	}
	option = {
		name = EVTOPTC_EBE_3
		trigger = {
			NOT = { has_global_flag = concession_exists }
		}
		add_artifact = concession
		set_global_flag = concession_exists
	}
	option = {
		name = EVTOPTD_EBE_3
		trigger = {
			NOT = { has_global_flag = kingmaker_exists }
		}
		add_artifact = kingmaker
		set_global_flag = kingmaker_exists
	}
	option = {
		name = EVTOPTE_EBE_3
		trigger = {
			NOT = { has_global_flag = rage_exists }
		}
		add_artifact = rage
		set_global_flag = rage_exists
	}
}

# Upgrade Combat Skill
character_event = {
	id = EBE.4
	desc = EVTDESCEBF2
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAEBF2 #upgrades combat skill
		prestige = 15
		train_combat_skill = yes		
	}
}
# Knighthood setup event
character_event = {
	id = EBE.5
	desc = EVTDESCEBF5
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAEBF5
		trigger = {
			AND = {
				event_target:knight = {
					religion_group = the_seven_group
				}
				event_target:squire = {
					religion_group = the_seven_group
				}
			}
		}
		event_target:knight = { character_event = { id = EBE.6 } }
		event_target:squire = { character_event = { id = EBE.6 } }
	}
	option = {
		name = EVTOPTBEBF5
		trigger = {
			AND = {
				event_target:knight = {
					religion_group = the_seven_group
				}
				event_target:squire = {
					NOT = {
						religion_group = the_seven_group
					}
				}
			}
		}
		event_target:knight = { character_event = { id = EBE.7 } }
		event_target:squire = { character_event = { id = EBE.7 } }
	}
	option = {
		name = EVTOPTCEBF5
		trigger = {
			AND = {
				event_target:knight = {
					religion = rhllor
				}
				event_target:squire = {
					religion = rhllor
				}
			}
		}
		event_target:knight = { character_event = { id = EBE.8 } }
		event_target:squire = { character_event = { id = EBE.8 } }
	}
	option = {
		name = EVTOPTCEBF5
		trigger = {
			AND = {
				event_target:knight = {
					religion = rhllor
				}
				event_target:squire = {
					NOT = {
						religion = rhllor
					}
				}
			}
		}
		event_target:knight = { character_event = { id = EBE.9 } }
		event_target:squire = { character_event = { id = EBE.9 } }
	}
	option = {
		name = EVTOPTCEBF5
		trigger = {
			AND = {
				event_target:knight = {
					religion_group = valyrian_group
				}
				event_target:squire = {
					religion_group = valyrian_group
				}
			}
		}
		event_target:knight = { character_event = { id = EBE.10 } }
		event_target:squire = { character_event = { id = EBE.10 } }
	}
	option = {
		name = EVTOPTCEBF5
		trigger = {
			AND = {
				event_target:knight = {
					religion_group = valyrian_group
				}
				event_target:squire = {
					NOT = {
						religion_group = valyrian_group
					}
				}
			}
		}
		event_target:knight = { character_event = { id = EBE.11 } }
		event_target:squire = { character_event = { id = EBE.11 } }
	}
	option = {
		name = EVTOPTCEBF5
		trigger = {
			event_target:knight = {
				OR = {
					NOT = {
						religion_group = valyrian_group
						religion_group = the_seven_group
						religion = rhllor
					}
				}
			}
		}
		event_target:knight = { character_event = { id = EBE.12 } }
		event_target:squire = { character_event = { id = EBE.12 } }
	}
}
# Knighthood The Seven
long_character_event = {
	id = EBE.6
	desc = EVTDESCEBF4
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAEBF4
		add_trait = knight
		trigger = {
			NOT = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
        	}
		}
	}
	option = {
		name = EVTOPTAEBF4
		trigger = {
			AND = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
				event_target:squire = { trait = squire }
			}
		}
		prestige = 100
	}
	option = {
		name = EVTOPTAEBF4
		trigger = {
			AND = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
				event_target:squire = { trait = page }
			}
		}
		prestige = -250
	}
	option = {
		name = EVTOPTAEBF4
		trigger = {
			AND = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
				event_target:squire = { 
					NOR = {
						trait = page
						trait = squire
					}
				}
			}
		}
		prestige = -500
	}
}
# Knighthood The Seven for infidels
long_character_event = {
	id = EBE.7
	desc = EVTDESCEBF4
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAEBF4
		add_trait = knight
		trigger = {
			NOT = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
        	}
		}
	}
	option = {
		name = EVTOPTAEBF4
		trigger = {
			ROOT = {
				OR = {
					trait = knight
        			trait = red_knight
        			trait = dragon_knight
        			trait = hedge_knight 
        		}
        	}
		}
		prestige = -2500
	}
}
# Knighthood Rhllor
long_character_event = {
	id = EBE.8
	desc = EVTDESCEBF8
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAEBF5
		add_trait = red_knight
		trigger = {
			NOT = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
        	}
		}
		random_list = {
			99 = { }
			1 = { give_nickname = nick_the_red_knight }
		}	
	}
	option = {
		name = EVTOPTAEBF6
		trigger = {
			AND = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
				event_target:squire = { trait = squire }
			}
		}
		prestige = 100
	}
	option = {
		name = EVTOPTAEBF6
		trigger = {
			AND = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
				event_target:squire = { trait = page }
			}
		}
		prestige = -250
	}
	option = {
		name = EVTOPTAEBF6
		trigger = {
			AND = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
				event_target:squire = { 
					NOR = {
						trait = page
						trait = squire
					}
				}
			}
		}
		prestige = -500
	}
}
# Knighthood Rhllor  for infidels
long_character_event = {
	id = EBE.9
	desc = EVTDESCEBF8
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAEBF5
		add_trait = red_knight
		trigger = {
			NOT = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
        	}
		}
	}
	option = {
		name = EVTOPTAEBF6
		trigger = {
			ROOT = {
				OR = {
					trait = knight
        			trait = red_knight
        			trait = dragon_knight
        			trait = hedge_knight 
        		}
        	}
		}
		prestige = -2500
	}
}
# Knighthood Valyrian
long_character_event = {
	id = EBE.10
	desc = EVTDESCEBF8
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAEBF5
		add_trait = dragon_knight
		trigger = {
			NOT = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
        	}
		}
		random_list = {
			99 = { }
			1 = { give_nickname = nick_the_dragon_knight }
		}
	}
	option = {
		name = EVTOPTAEBF7
		trigger = {
			AND = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
				event_target:squire = { trait = squire }
			}
		}
		prestige = 100
	}
	option = {
		name = EVTOPTAEBF7
		trigger = {
			AND = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
				event_target:squire = { trait = page }
			}
		}
		prestige = -250
	}
	option = {
		name = EVTOPTAEBF7
		trigger = {
			AND = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
				event_target:squire = { 
					NOR = {
						trait = page
						trait = squire
					}
				}
			}
		}
		prestige = -500
	}
}
# Knighthood Valyrian for infidels
long_character_event = {
	id = EBE.11
	desc = EVTDESCEBF8
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAEBF5
		add_trait = dragon_knight
		trigger = {
			NOT = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
        	}
		}
	}
	option = {
		name = EVTOPTAEBF7
		trigger = {
			ROOT = {
				OR = {
					trait = knight
        			trait = red_knight
        			trait = dragon_knight
        			trait = hedge_knight 
        		}
        	}
		}
		prestige = -2500
	}
}
# Knighthood Everyone else
long_character_event = {
	id = EBE.12
	desc = EVTDESCEBF8
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAEBF5
		add_trait = knight
		trigger = {
			NOT = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
        	}
		}
		random_list = {
			99 = { }
			1 = { give_nickname = nick_the_knight }
		}
	}
	option = {
		name = EVTOPTAEBF5
		trigger = {
			AND = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
				event_target:squire = { trait = squire }
			}
		}
		prestige = 100
	}
	option = {
		name = EVTOPTAEBF5
		trigger = {
			AND = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
				event_target:squire = { trait = page }
			}
		}
		prestige = -250
	}
	option = {
		name = EVTOPTAEBF5
		trigger = {
			AND = {
				ROOT = {
					OR = {
						trait = knight
        				trait = red_knight
        				trait = dragon_knight
        				trait = hedge_knight 
        			} 
        		}
				event_target:squire = { 
					NOR = {
						trait = page
						trait = squire
					}
				}
			}
		}
		prestige = -500
	}
}